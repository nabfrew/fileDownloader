FROM openjdk:16-alpine3.13

ENV CONTAINER_JAR_NAME=fileDownloader.jar
ENV HOST_JAR_PATH=fileDownloader-0.1-SNAPSHOT.jar
ENV CONTAINER_VOL_DIR=/vol1/
ENV DOWNLOAD_DIR=downloaded
ENV URL_FILE_NAME=urlList.txt
ENV HOST_URL_FILE_PATH=${URL_FILE_NAME}

COPY ${HOST_JAR_PATH} /${CONTAINER_JAR_NAME}
COPY ${HOST_URL_FILE_PATH} /${URL_FILE_NAME}

ENTRYPOINT java -jar /${CONTAINER_JAR_NAME} -url /$URL_FILE_NAME
RUN mkdir -p ${CONTAINER_VOL_DIR}/${DOWNLOAD_DIR}

WORKDIR $CONTAINER_VOL_DIR
